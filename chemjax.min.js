!function(){String.prototype.clone=function(){return this},String.prototype.splice=function(a,b){return this.slice(0,a)+b+this.slice(a)},String.prototype.reverse=function(){return this.split("").reverse().join("")},filterSubscriptScrewUp=function(a){var b=a.match(/[a-z]*[0-9]*\^[0-9]+_[0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.clone(),f=d.indexOf(d.match(/\^/)),g=d.indexOf(d.match(/_/)),h=d.substring(f+1,g),i=d.substring(g+1,d.length);e=d.replace(h,i),e=e.replace("_"+i,"^"+h),e=e.replace("^","_"),a=a.replace(d,e)}return a},filterForSpecSuperscripts=function(a){var b=a.match(/[a-z]+[0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c];firstDigit=d.match(/[0-9]/),firstIndex=d.indexOf(firstDigit),splicedString=d.splice(firstIndex,"^"),a=a.replace(d,splicedString)}return a},filterPipes=function(a){return a=a.replace(/\\/g,"|"),a=a.replace(/\//g,"|"),a=a.replace(/\|/g,"|")},filterLessThan=function(a){return a=a.replace(/\<\=/g,"\\Leftarrow")},filterLeftArrow=function(a){return a=a.replace(/\<\-/g,"\\leftarrow")},filterToText=function(a){var b=a.match(/(?!t|x|e)([a-z]){1,1}/gi),c=a.match(/(?!\\|x)(t)/g),d=a.match(/(e)(?!x)/g),e=a.match(/\|/g),f=["T","E","X"],g=[];c&&(a=a.replace(/(?!\\|x)(t)/g,"\\text{t}")),d&&(a=a.replace(/(e)(?!x)/g,"\\text{e}")),e&&(a=a.replace(/\|/g,"\\text{|}"));for(var h=0;h<f.length;h++){var i=new RegExp(f[h],"g");a.match(i)&&(a=a.replace(i,"\\text{"+f[h]+"}"))}if(b)for(var h=0;h<b.length;h++){for(var j=!1,k=0;k<g.length;k++)if(b[h]==g[k]){j=!0;break}if(!j){var l=b[h],m=new RegExp(l,"g");g.push(l),a=a.replace(m,"\\text{"+l+"}")}}return a},filterForChemSubscripts=function(a){var b=a.match(/[)a-z]+[0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.match(/[0-9]/),f=d.indexOf(e),g=d.splice(f,"_");a=a.replace(d,g)}return a},filterForChemSuperscripts=function(a){var b=a.match(/[a-z]+[_0-9]*\^[0-9]*[-+]{1,1}/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.indexOf("^"),f=d.splice(e+1,"(");f+=")",a=a.replace(d,f)}return a},filterTwoWayArrows=function(a){return a=a.replace("<=>","\u21cc")},filterDoubleCs=function(a){return a=a.replace(/CC/g,"C C ")},filterForSpaces=function(a){return a=a.replace(/\s/g,"\\quad")},String.prototype.filterForChemistry=function(){var a=this;return a=filterTwoWayArrows(a),a=filterDoubleCs(a),a=filterForChemSubscripts(a),a=filterForChemSuperscripts(a),a=filterPipes(a),a=filterToText(a),a=filterLeftArrow(a),a=filterLessThan(a)},String.prototype.filterForSpectroscopic=function(){var a=this;return a=filterForSpecSuperscripts(a),a=filterToText(a),a=filterForSpaces(a)}}();