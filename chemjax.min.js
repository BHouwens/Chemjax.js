!function(){String.prototype.clone=function(){return this},String.prototype.splice=function(a,b,c){return c=c||0,this.slice(0,a)+b+this.slice(a+Math.abs(c))},filterSubscriptScrewUp=function(a){var b=a.match(/[a-z]*[0-9]*\^[0-9]+_[0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.clone(),f=d.indexOf(d.match(/\^/)),g=d.indexOf(d.match(/_/)),h=d.substring(f+1,g),i=d.substring(g+1,d.length);e=d.replace(h,i),e=e.replace("_"+i,"^"+h),e=e.replace("^","_"),a=a.replace(d,e)}return a},convertInfinity=function(a){return a=a.replace(/infinity/g,"oo")},filterAsChemCompound=function(a){var b=a.match(/(?!log)([a-z])+[0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.match(/\d/),f=d.indexOf(e),g=d.splice(f,"_");a=a.replace(d,g)}return a}}();