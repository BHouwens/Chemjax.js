!function(){String.prototype.clone=function(){return this},String.prototype.splice=function(a,b,c){return c=c||0,this.slice(0,a)+b+this.slice(a+Math.abs(c))},filterSubscriptScrewUp=function(a){var b=a.match(/[a-z]*[0-9]*\^[0-9]+_[0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.clone(),f=d.indexOf(d.match(/\^/)),g=d.indexOf(d.match(/_/)),h=d.substring(f+1,g),i=d.substring(g+1,d.length);e=d.replace(h,i),e=e.replace("_"+i,"^"+h),e=e.replace("^","_"),a=a.replace(d,e)}return a},filterForChemSubscripts=function(a){var b=a.match(/[a-z]+[0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.match(/[0-9]/),f=d.indexOf(e),g=d.splice(f,"_");a=a.replace(d,g)}return a},filterForChemSuperscripts=function(a){var b=a.match(/[a-z]+[_0-9]*\^[-0-9]+/gi);if(b)for(var c=0;c<b.length;c++){var d=b[c],e=d.indexOf("^"),f=d.splice(e+1,"(");f+=")",a=a.replace(d,f)}return a},filterTwoWayArrows=function(a){return a=a.replace("<=>","\u21cc")},String.prototype.filterForChemistry=function(){var a=this;return a=filterTwoWayArrows(a),a=filterForChemSubscripts(a),a=filterForChemSuperscripts(a)}}();